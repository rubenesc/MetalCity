<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">

    <h:form id="changePasswordForm" rendered="#{userConfigurationManagedBean.canIeditProfile}">
        <table width="500"  cellspacing="0" class="tableBorder" cellpadding="5">
            <tr>
                <td colspan="2">
                    <h:outputText id="title" value="#{msg.change_password_title}" styleClass="sectionTitle" />
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    #{msg.change_password_info_expl_1}
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    #{msg.change_password_info_expl_2}
                </td>
            </tr>
            <tr>
                <td height="10"></td>
            </tr>
            <tr>
                <td style="text-align: left" valign="top" width="28%">
                    #{msg.change_password_info_current_password}:
                </td>
                <td align="left" colspan="2">
                    <h:inputSecret value="#{userConfigurationManagedBean.changePasswordDTO.currentPassword}" id="currentPassword" size="30"
                                   valueChangeListener="#{userConfigurationManagedBean.checkIfCurrentPasswordIsValid}">
                        <f:ajax execute="@this" render="currentPasswordValitation" />
                    </h:inputSecret>
                    <span style="padding-left:3px"></span>
                    <h:outputText value="#{userConfigurationManagedBean.currentPasswordValitation}" id="currentPasswordValitation" />
                </td>
            </tr>
            <tr>
                <td style="text-align: left" valign="top" width="28%">
                    #{msg.change_password_info_new_password}:
                </td>
                <td align="left" colspan="2">
                    <h:inputSecret value="#{userConfigurationManagedBean.changePasswordDTO.newPassword}" id="newPassword"  size="30"
                                   valueChangeListener="#{userConfigurationManagedBean.checkIfNewPasswordIsValid}">
                        <f:ajax execute="@this" render="newPasswordValitation confirmNewPasswordValitation" />
                    </h:inputSecret>
                    <span style="padding-left:3px"></span>
                    <h:outputText value="#{userConfigurationManagedBean.newPasswordValitation}" id="newPasswordValitation" />
                </td>
            </tr>
            <tr>
                <td style="text-align: left" valign="top" width="28%">
                    #{msg.change_password_info_confirm_new_password}:
                </td>
                <td align="left" colspan="2">
                    <h:inputSecret value="#{userConfigurationManagedBean.changePasswordDTO.confirmNewPassword}" id="confirmNewPassword"  size="30"
                                   valueChangeListener="#{userConfigurationManagedBean.checkIfConfirmNewPasswordIsValid}">
                        <f:ajax execute="@this" render="confirmNewPasswordValitation" />
                    </h:inputSecret>
                    <span style="padding-left:3px"></span>
                    <h:outputText value="#{userConfigurationManagedBean.confirmNewPasswordValitation}" id="confirmNewPasswordValitation" />
                </td>
            </tr>
            <tr>
                <td style="text-align: left" valign="top" width="28%"> </td>
                <td style="text-align: left" colspan="2">
                    <h:commandButton id="changePasswordBtn" value="#{msg.change_password_info_change_password}"
                         action="#{userConfigurationManagedBean.changeUserPassword}" styleClass="button nightfall" />
                    <span style="padding-left:3px"></span>
                </td>
            </tr>
            <tr>
                <td height="10"></td>
            </tr>
        </table>
    </h:form>
</ui:composition>


